<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>karunochi</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="shortcut icon" type="image/x-icon" href="logo\karunochi\other\iconLow.webp" />
        <script>
            const jumlahImageDepan = 10;
        </script>
        <style>
            :root{
                --scrollDuration:60s;
                --tinggiPantulan:20%;
                --blurPantulan:10px; /* makin gede makin blur*/
                --usedWidth:80vw;   /* Buat ngatur lebar  layar gambar ngescroll | vw = % lebar  layar */
                --usedHeight:80vh;  /* Buat ngatur tinggi layar gambar ngescroll | vh = % tinggi layar */
                --alphaOverlay:20%;  /* % transparansi layar hitam didipan scrolling image*/

                --imgScrollX:0px;
                --imgScrollY:0px;
            }
            body{
                background-color: black;
                color: white;
                padding: 0;
                border: 0;
                overflow: hidden;
            }
            .askarMTopCollection2010{
                width: var(--usedWidth);
                height: var(--usedHeight);
                overflow: hidden;
                display: flex;
                margin: 0% auto;
                box-sizing: border-box;
            }
            .imgContainer{
                height: 100%;
                display: flex;
                animation:scroll-left var(--scrollDuration) linear infinite;
            }
            .imgContainer img{
                height: 100%;
            }
            @media (max-aspect-ratio: 1/1) {
                .askarMTopCollection2010{
                    display: grid;
                }
                .imgContainer{
                    flex-direction: column;
                    animation:scroll-up var(--scrollDuration) linear infinite;
                    width: 100%;
                }
                .imgContainer img{
                    width: 100%;
                    height: auto;
                }
            }
            @keyframes scroll-left{
                0%{
                    transform: translateX(0);
                }
                100%{
                    transform: translateX(var(--imgScrollX));
                }
            }
            @keyframes scroll-up{
                0%{
                    transform: translateY(0);
                }
                100%{
                    transform: translateY(var(--imgScrollY));
                }
            }

            #reflectContainer {
                width: var(--usedWidth);
                height: 20vh;
                margin: 0 auto;
                position: relative;
            }
            #reflection {
                position: absolute;
                top: 100%;
                left: 0;
                transform: scaleY(-1) translate(0,var(--tinggiPantulan));
                filter: blur(var(--blurPantulan));
                /* -webkit-mask-image:-webkit-gradient(linear, left top, left bottom, from(#0000), to(#0009)) */
                mask-image: linear-gradient(to bottom, transparent, #0009);
                -webkit-mask-image: linear-gradient(to bottom, transparent, #0009);
		  	}
            
            .stack{
                position: absolute;
                top: 0;
                left: 0;
                height: 100%;
                width: 100vw;
            }
            
            .overlay{
                background-color:rgba(0,0,0,var(--alphaOverlay));
                height: 150vh;
                width: 150vw;
            }

            #logo{
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100%;
            }
            #logo img{
                max-width: 33%;
                max-height: 20%;
            }

            #idk{
                margin: 0% 20%;
                background-color:#fff;
                color: black;
                border-radius: 100vh;
                padding: 5px 20px;
                position: absolute;
                bottom: 5%;
                mix-blend-mode: lighten;
            }
            @media only screen and (max-width: 1200px) {
                #idk{
                    border-radius: 0;
                    margin: 0%;
                    width: 100%;
                    padding: 5px 0px;
                }
                #logo img{
                    max-width: 50%;
                }
            }

            #buttonContainer{
                display: grid;
                grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
                gap: 1px;
                color: white;
                border-radius: 500vh;
            }
            #buttonContainer button {
                font-family: "Noto Serif", sans-serif;
                font-weight: bold;    
                font-size: min(25px,3vw,5vh);
                background-color: white;
                height: 8vh;
                border-color: #0000;
            }

            #KRNC {
                display: flex;
                justify-content: center;
                align-items: center;
                max-height: 100%;
            }

            #KRNC img {
                max-width: min(100%,6vh);
                max-height: 33%;
                object-fit: cover;
            }

            </style>
        </head>
        <body>
            <div class="stack" zLayer=1>
                <div class="askarMTopCollection2010">
                    <div class="imgContainer"></div><div class="imgContainer"></div>
                </div>
                <div id="reflectContainer">
                    <div id="reflection">
                        <div class="askarMTopCollection2010">
                            <div class="imgContainer"></div><div class="imgContainer"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="stack overlay" zLayer=2>
            </div>

            <div class="stack" zLayer=3>
                <div id="logo">
                    <img src="logo\karunochi\white\Logotype (BG).webp">
                </div>
            </div>
                <div class="stack" zLayer=3>
                    <div id="idk">
                        <div id="buttonContainer">
                            <button onclick="alert('yay')" class="box">Home</button>
                            <button class="box">Works</button>
                            <button class="box">
                                <div id="KRNC" >
                                    <img src="logo\karunochi\black\Logogram.webp">
                                </div>
                            </button>
                            <button class="box">Social</button>
                            <button class="box">Commision</button>
                        </div>
                    </div>
                </div>
            </body>
    <script>
        let root = document.documentElement;
		const setValue = (varName,value) => root.style.setProperty(varName, value);
        const getValue = (varName)       => getComputedStyle(root).getPropertyValue(varName);

        let img = "";
        let i=1;
        for(let i=1;i<=jumlahImageDepan;i++){
            let image = `frontImage/${i}.webp`
            img += `
                <img src="${image}">`
        }

        imgContainerList = Array.from(document.getElementsByClassName("imgContainer"));
        imgContainerList.forEach(
            imgContainer => {imgContainer.innerHTML = img});

        let totalImgWidth = 0;
        let totalImgHeight = 0;

        // const topCollectionWidth = document.querySelector('#askarMTopCollection2010').offsetWidth;
        function addTotalImgSize(imgWidth,imgHeight){
            totalImgWidth += imgWidth;
            setValue ('--imgScrollX',totalImgWidth*-1 + 'px');

            totalImgHeight += imgHeight;
            setValue ('--imgScrollY',totalImgHeight*-1 + 'px');
        }
        const images = document.querySelector('.imgContainer').querySelectorAll('img');
        images.forEach(image=>{
            image.addEventListener('load',
                onLoad => { 
                    addTotalImgSize(image.offsetWidth, image.offsetHeight);
        })})

        const recalculateImgWidth=()=>{
            console.log("recalculate")
            totalImgWidth = 0;
            totalImgHeight = 0;
            images.forEach(image=>{ 
                addTotalImgSize(image.offsetWidth, image.offsetHeight);
        })}
        window.addEventListener('resize', recalculateImgWidth);
    </script>
</html>
